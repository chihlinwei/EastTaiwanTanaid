geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(aes(x=yyyymmddhhmi, y=T*8.8, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (m)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot(data = out)+
geom_rect(xmin = as.POSIXct("2012-07-30", tz="GMT"), xmax = as.POSIXct("2012-08-04", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-05", tz="GMT"), xmax = as.POSIXct("2012-08-08", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-14", tz="GMT"), xmax = as.POSIXct("2012-08-17", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-22", tz="GMT"), xmax = as.POSIXct("2012-08-30", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(aes(x=yyyymmddhhmi, y=T*4, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (m)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot(data = out)+
geom_rect(xmin = as.POSIXct("2012-07-30", tz="GMT"), xmax = as.POSIXct("2012-08-04", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-05", tz="GMT"), xmax = as.POSIXct("2012-08-08", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-14", tz="GMT"), xmax = as.POSIXct("2012-08-17", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-22", tz="GMT"), xmax = as.POSIXct("2012-08-30", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(aes(x=yyyymmddhhmi, y=T*3, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (m)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot(data = out)+
geom_rect(xmin = as.POSIXct("2012-07-30", tz="GMT"), xmax = as.POSIXct("2012-08-04", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-05", tz="GMT"), xmax = as.POSIXct("2012-08-08", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-14", tz="GMT"), xmax = as.POSIXct("2012-08-17", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-22", tz="GMT"), xmax = as.POSIXct("2012-08-30", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(aes(x=yyyymmddhhmi, y=T*3, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1)+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot(data = out)+
geom_rect(xmin = as.POSIXct("2012-07-30", tz="GMT"), xmax = as.POSIXct("2012-08-04", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-05", tz="GMT"), xmax = as.POSIXct("2012-08-08", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-14", tz="GMT"), xmax = as.POSIXct("2012-08-17", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-22", tz="GMT"), xmax = as.POSIXct("2012-08-30", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(aes(x=yyyymmddhhmi, y=T*2, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1)+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot(data = out)+
geom_rect(xmin = as.POSIXct("2012-07-30", tz="GMT"), xmax = as.POSIXct("2012-08-04", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-05", tz="GMT"), xmax = as.POSIXct("2012-08-08", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-14", tz="GMT"), xmax = as.POSIXct("2012-08-17", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-22", tz="GMT"), xmax = as.POSIXct("2012-08-30", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot(data = out)+
geom_rect(xmin = as.POSIXct("2012-07-30", tz="GMT"), xmax = as.POSIXct("2012-08-04", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-05", tz="GMT"), xmax = as.POSIXct("2012-08-08", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-14", tz="GMT"), xmax = as.POSIXct("2012-08-17", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_rect(xmin = as.POSIXct("2012-08-22", tz="GMT"), xmax = as.POSIXct("2012-08-30", tz="GMT"), ymin=0, ymax=Inf, fill="gray90", colour="gray90")+
geom_path(aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
as.POSIXct(c("2012-07-30", "2012-08-04"), tz="GMT")
rec <- rbind(as.POSIXct(c("2012-07-30", "2012-08-04"), tz="GMT"),
as.POSIXct(c("2012-08-05", "2012-08-08"), tz="GMT"),
as.POSIXct(c("2012-08-14", "2012-08-17"), tz="GMT"),
as.POSIXct(c("2012-08-22", "2012-08-30"), tz="GMT")) %>% as.data.frame
rec
rec <- rbind(c("2012-07-30", "2012-08-04"),
c("2012-08-05", "2012-08-08"),
c("2012-08-14", "2012-08-17"),
c("2012-08-22", "2012-08-30")) %>% as.data.frame
rec
as.POSIXct(rec. tz="GMT")
as.POSIXct(rec, tz="GMT")
rec <- rbind(c("2012-07-30", "2012-08-04"),
c("2012-08-05", "2012-08-08"),
c("2012-08-14", "2012-08-17"),
c("2012-08-22", "2012-08-30")) %>% as.data.frame
names(rec) <- c("xmin", "xmax")
rec$xmin <- as.POSIXct(rec$xmin, tz="GMT")
rec$xmax <- as.POSIXct(rec$xmax, tz="GMT")
rec
Typhon <- c("Saola", "Haikui", "Kai-tak", "Tembin")
Typhoon <- c("Saola", "Haikui", "Kai-tak", "Tembin")
cbind(rec, Typoon)
cbind(rec, Typhoon)
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon, colour=Typhoon))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
rec
rec <- cbind(rec, Typhoon)
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon, colour=Typhoon))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Buoy")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon, colour=Typhoon))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)", colour="Buoy", fill="Typhoon")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon, colour=Typhoon))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon, colour=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
rec <- rbind(c("2012-07-30", "2012-08-04"),
c("2012-08-05", "2012-08-08"),
c("2012-08-14", "2012-08-17"),
c("2012-08-22", "2012-08-30")) %>% as.data.frame
names(rec) <- c("xmin", "xmax")
rec$xmin <- as.POSIXct(rec$xmin, tz="GMT")
rec$xmax <- as.POSIXct(rec$xmax, tz="GMT")
Typhoon <- factor(c("Saola", "Haikui", "Kai-tak", "Tembin"), levels=c("Saola", "Haikui", "Kai-tak", "Tembin"))
rec <- cbind(rec, Typhoon)
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous( expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(limits=c(0,8), expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(limits=c(0,800), expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=t, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=T, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=T/10, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Wave period (s)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Wave period (s)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y=expression(Wave~Frequency~(min^-1)))+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T, group=Grp))+
facet_wrap(~Buoy, ncol=1)+
labs(x="", y=expression(Wave~Frequency~(min^-1)))+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T*50, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T*10, group=Grp), colour="blue")+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T, group=Grp))+
facet_wrap(~Buoy, ncol=1)+
labs(x="", y=expression(Wave~Frequency~(min^-1)))+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18"), xmax = as.POSIXct("2012-08-20"), ymin=0, ymax=Inf))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 00:00"), xmax = as.POSIXct("2012-08-20 23:59"), ymin=0, ymax=Inf))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf))+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red")+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0.1, 0.1)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0.1, -0.1)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0.1, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="red", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (cm)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=600/T, group=Grp))+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
facet_wrap(~Buoy, ncol=1)+
labs(x="", y=expression(Wave~Frequency~(min^-1)))+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H/10, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (m)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H/100, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (m)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, dev='jpeg', dpi = 600)
library(dplyr)
library(ggplot2)
library(readxl)
library(patchwork)
large <- theme(legend.title = element_text(size=15),
legend.text = element_text(size=15),
axis.title = element_text(size=15),
axis.text = element_text(size=15),
strip.text = element_text(size=15))
rotate <- theme(axis.text.x = element_text(angle = 90, hjust=1))
no_strip <- theme(strip.background = element_rect(colour=NA, fill=NA),
strip.text = element_text(colour=NA))
# Hualien buoy
hua <- read_excel("../Data//2012_46699A_Hualien buoy_wave.xlsx", skip=9)
hua$yyyymmddhhmi <- strptime(hua$yyyymmddhhmi, format="%Y%m%d%H%M", tz="GMT") %>% as.POSIXct
hua$Header <- "Hualien buoy"
# Chenggong
che <- read_excel("../Data//2012_46761F_Chenggong_wave.xlsx", skip=15)
che$yyyymmddhhmi <- strptime(che$yyyymmddhhmi, format="%Y%m%d%H%M", tz="GMT") %>% as.POSIXct
che$Header <- "Chenggong"
names(che)[4:5] <- c("H", "T")
#che <- che[che$Dif!=0,]
out <- rbind(hua[, c(1:4, 6, 8:11)], che)
names(out)[1] <- "Buoy"
out$Buoy <- factor(out$Buoy, levels=c("Hualien buoy", "Chenggong"))
# Typhoon impact periods
rec <- rbind(c("2012-07-30", "2012-08-04"),
c("2012-08-05", "2012-08-08"),
c("2012-08-14", "2012-08-17"),
c("2012-08-22", "2012-08-30")) %>% as.data.frame
names(rec) <- c("xmin", "xmax")
rec$xmin <- as.POSIXct(rec$xmin, tz="GMT")
rec$xmax <- as.POSIXct(rec$xmax, tz="GMT")
Typhoon <- factor(c("Saola", "Haikui", "Kai-tak", "Tembin"), levels=c("Saola", "Haikui", "Kai-tak", "Tembin"))
rec <- cbind(rec, Typhoon)
ggplot()+
geom_rect(data=rec, aes(xmin = xmin, xmax = xmax, ymin=0, ymax=Inf, fill=Typhoon), alpha=0.5)+
geom_rect(data=rec, aes(xmin = as.POSIXct("2012-08-18 08:00"), xmax = as.POSIXct("2012-08-20 17:00"), ymin=0, ymax=Inf), fill="transparent", colour="red", linetype=2)+
geom_path(data = out, aes(x=yyyymmddhhmi, y=H/100, group=Grp))+
facet_wrap(~Buoy, ncol=1, scales="free")+
labs(x="", y="Significant wave height (m)")+
scale_x_datetime(limits = as.POSIXct(c("2012-07-28 00:00", "2012-08-31 23:59"), tz="GMT"), expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
scale_fill_viridis_d()+
scale_colour_viridis_d()+
theme_bw()
